<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold">Festival Management Backend System - Component Architecture</text>
  
  <!-- Main System Container -->
  <rect x="50" y="60" width="1100" height="700" fill="none" stroke="#333" stroke-width="3"/>
  <text x="600" y="85" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">Festival Management Backend System</text>
  
  <!-- API Layer -->
  <rect x="100" y="110" width="1000" height="140" fill="#e6f3ff" stroke="#4a90e2" stroke-width="2"/>
  <text x="600" y="135" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">API Layer (Controllers)</text>
  
  <!-- Controllers -->
  <rect x="130" y="160" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="130" y="160" width="40" height="25" fill="#4a90e2"/>
  <text x="230" y="190" text-anchor="middle" font-family="Arial" font-size="13">Festival</text>
  <text x="230" y="210" text-anchor="middle" font-family="Arial" font-size="13">Controller</text>
  
  <rect x="360" y="160" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="360" y="160" width="40" height="25" fill="#4a90e2"/>
  <text x="460" y="190" text-anchor="middle" font-family="Arial" font-size="13">Performance</text>
  <text x="460" y="210" text-anchor="middle" font-family="Arial" font-size="13">Controller</text>
  
  <rect x="590" y="160" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="590" y="160" width="40" height="25" fill="#4a90e2"/>
  <text x="690" y="190" text-anchor="middle" font-family="Arial" font-size="13">User</text>
  <text x="690" y="210" text-anchor="middle" font-family="Arial" font-size="13">Controller</text>
  
  <rect x="820" y="160" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="820" y="160" width="40" height="25" fill="#4a90e2"/>
  <text x="920" y="190" text-anchor="middle" font-family="Arial" font-size="13">Authentication</text>
  <text x="920" y="210" text-anchor="middle" font-family="Arial" font-size="13">Controller</text>
  
  <!-- Service Layer -->
  <rect x="100" y="280" width="1000" height="140" fill="#e6ffe6" stroke="#4ae24a" stroke-width="2"/>
  <text x="600" y="305" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">Service Layer</text>
  
  <!-- Services -->
  <rect x="130" y="330" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="130" y="330" width="40" height="25" fill="#4ae24a"/>
  <text x="230" y="360" text-anchor="middle" font-family="Arial" font-size="13">Festival</text>
  <text x="230" y="380" text-anchor="middle" font-family="Arial" font-size="13">Service</text>
  
  <rect x="360" y="330" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="360" y="330" width="40" height="25" fill="#4ae24a"/>
  <text x="460" y="360" text-anchor="middle" font-family="Arial" font-size="13">Performance</text>
  <text x="460" y="380" text-anchor="middle" font-family="Arial" font-size="13">Service</text>
  
  <rect x="590" y="330" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="590" y="330" width="40" height="25" fill="#4ae24a"/>
  <text x="690" y="360" text-anchor="middle" font-family="Arial" font-size="13">User</text>
  <text x="690" y="380" text-anchor="middle" font-family="Arial" font-size="13">Service</text>
  
  <rect x="820" y="330" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="820" y="330" width="40" height="25" fill="#4ae24a"/>
  <text x="920" y="360" text-anchor="middle" font-family="Arial" font-size="13">Security</text>
  <text x="920" y="380" text-anchor="middle" font-family="Arial" font-size="13">Service</text>
  
  <!-- Persistence Layer -->
  <rect x="100" y="450" width="1000" height="140" fill="#ffe6e6" stroke="#e24a4a" stroke-width="2"/>
  <text x="600" y="475" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">Persistence Layer (DAO/Repositories)</text>
  
  <!-- Repositories -->
  <rect x="210" y="500" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="210" y="500" width="40" height="25" fill="#e24a4a"/>
  <text x="310" y="530" text-anchor="middle" font-family="Arial" font-size="13">Festival</text>
  <text x="310" y="550" text-anchor="middle" font-family="Arial" font-size="13">Repository</text>
  
  <rect x="440" y="500" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="440" y="500" width="40" height="25" fill="#e24a4a"/>
  <text x="540" y="530" text-anchor="middle" font-family="Arial" font-size="13">Performance</text>
  <text x="540" y="550" text-anchor="middle" font-family="Arial" font-size="13">Repository</text>
  
  <rect x="670" y="500" width="200" height="70" fill="white" stroke="#333" stroke-width="1" rx="5"/>
  <rect x="670" y="500" width="40" height="25" fill="#e24a4a"/>
  <text x="770" y="530" text-anchor="middle" font-family="Arial" font-size="13">User</text>
  <text x="770" y="550" text-anchor="middle" font-family="Arial" font-size="13">Repository</text>
  
  <!-- Database -->
  <path d="M 450 650 L 750 650 L 750 700 Q 750 730 600 730 Q 450 730 450 700 Z" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
  <ellipse cx="600" cy="650" rx="150" ry="40" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
  <text x="600" y="660" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">Database</text>
  
  <!-- Security Module (Auth + RBAC) - vertical on right -->
  <rect x="1050" y="180" width="80" height="300" fill="#fff0e6" stroke="#e2a04a" stroke-width="2"/>
  <text x="1090" y="200" text-anchor="middle" font-family="Arial" font-size="13" transform="rotate(90 1090 200)">Security Module</text>
  <text x="1090" y="380" text-anchor="middle" font-family="Arial" font-size="11" transform="rotate(90 1090 380)">(Auth + RBAC)</text>
  
  <!-- Dependencies (arrows) -->
  <!-- API to Service -->
  <line x1="230" y1="230" x2="230" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="230" x2="460" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="690" y1="230" x2="690" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="920" y1="230" x2="920" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Service to Persistence -->
  <line x1="230" y1="400" x2="310" y2="500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="400" x2="540" y2="500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="690" y1="400" x2="770" y2="500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Persistence to Database -->
  <line x1="310" y1="570" x2="500" y2="620" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="540" y1="570" x2="600" y2="610" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="770" y1="570" x2="700" y2="620" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Security interactions -->
  <line x1="1020" y1="195" x2="1050" y2="195" stroke="#e2a04a" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="1020" y1="365" x2="1050" y2="365" stroke="#e2a04a" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Labels -->
  <text x="50" y="270" font-family="Arial" font-size="12" font-style="italic">Invoke Business Logic</text>
  <text x="50" y="440" font-family="Arial" font-size="12" font-style="italic">Create/Read/Update/Delete</text>
  <text x="50" y="620" font-family="Arial" font-size="12" font-style="italic">Read/Write Data</text>
  
  <text x="1065" y="160" font-family="Arial" font-size="11" font-style="italic">Role Check/</text>
  <text x="1065" y="175" font-family="Arial" font-size="11" font-style="italic">Authentication</text>
</svg>